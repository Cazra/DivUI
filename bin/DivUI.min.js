var Util;Util||(Util={});Util||(Util={});Util.Inheritance={inherit:function(a,b){for(var c in b.prototype)a.prototype[c]||(a.prototype[c]=b.prototype[c])}};var DivUI={Component:function(a){this._div=a?a:document.createElement("div");this._visibleDisplay=this._div.style.display;this._visible=!0;this._parent=void 0}};
DivUI.Component.prototype={constructor:DivUI.Component,isaComponent:!0,getDiv:function(){return this._div},getParent:function(){return this._parent},setVisible:function(a){a&&!this._visible?(this._div.style.visibility="visible",this._div.style.display=this._visibleDisplay,this._visible=!0):!a&&this._visible&&(this._div.style.visibility="hidden",this._visibleDisplay=this._div.style.display,this._div.style.display="none",this._visible=!1)},isVisible:function(){return"visible"==this._div.style.visibility}};
DivUI.Container=function(a){DivUI.Component.call(this,a);this._components=[]};
DivUI.Container.prototype={constructor:DivUI.Container,isaContainer:!0,add:function(a){void 0!==a.getParent()?a.getParent().remove(a):null!==a.getDiv().parentNode&&a.getDiv().parentNode.removeChild(a.getDiv());a._parent=this;this._components.push(a);this.getDiv().appendChild(a.getDiv());return a},addFirst:function(a){void 0!==a.getParent()?a.getParent().remove(a):null!==a.getDiv().parentNode&&a.getDiv().parentNode.removeChild(a.getDiv());a._parent=this;this._components.unshift(a);this.getDiv().insertBefore(a.getDiv(),
this.getDiv().firstChild);return a},remove:function(a){var b;a.isaComponent?b=this._components.indexOf(a):(b=a,a=this._components[b]);if(0>b)throw Error("Component not found.");this.getDiv().removeChild(a.getDiv());a._parent=void 0;this._components.splice(b,1)},removeFirst:function(){var a=this.getComponent(0);this.remove(a);return a},removeLast:function(){var a=this.getComponent(this.getComponentCount()-1);this.remove(a);return a},removeAll:function(){for(;0<this._components.length;)this.remove(0)},
indexOf:function(a){return this._components.indexOf(a)},getComponent:function(a){if(0>a||a>=this._components.length)throw new RangeError("Component index out of bounds. ");return this._components[a]},getComponents:function(){var a=[],b;for(b in this._components)a.push(this._components[b]);return a},getComponentCount:function(){return this._components.length}};Util.Inheritance.inherit(DivUI.Container,DivUI.Component);
DivUI.ScrollPane=function(a,b,c,d){DivUI.Container.call(this,d);d=this.getDiv();this._vScroll=b;d.style.overflowY=b==DivUI.Scrolling.AUTO?"auto":b==DivUI.Scrolling.ALWAYS?"scroll":"hidden";this._hScroll=c;d.style.overflowX=c==DivUI.Scrolling.AUTO?"auto":c==DivUI.Scrolling.ALWAYS?"scroll":void 0;this.add(a);this._contents=a};DivUI.ScrollPane.prototype={constructor:DivUI.ScrollPane,isaScrollPane:!0,getContents:function(){return this._contents},getHScrollPolicy:function(){return this._hScroll},getVScrollPolicy:function(){return this._vScroll}};
Util.Inheritance.inherit(DivUI.ScrollPane,DivUI.Container);DivUI.SwitchPane=function(a){DivUI.Container.call(this,a)};DivUI.SwitchPane.prototype={constructor:DivUI.SwitchPane,isaSwitchPane:!0,showComponent:function(a){a=this.getComponents().indexOf(a);this.showIndex(a)},showIndex:function(a){a=this.getComponent(a);for(var b=0;b<this.getComponentCount();b++){var c=this.getComponent(b);c.setVisible(c===a)}},add:function(a){DivUI.Container.prototype.add.call(this,a);1<this.getComponentCount()&&a.setVisible(!1)}};
Util.Inheritance.inherit(DivUI.SwitchPane,DivUI.Container);DivUI.Label=function(a,b){DivUI.Component.call(this);b||(b="left");this.setText(a);this.setAlignment(b)};
DivUI.Label.prototype={constructor:DivUI.Label,isaLabel:!0,getText:function(){return this.getDiv().innerHTML},setText:function(a){this.getDiv().innerHTML=a},getAlignment:function(){return this.getDiv().style.textAlign},setAlignment:function(a){if("left"==a||"center"==a||"right"==a)this.getDiv().style.textAlign=a;else throw Error(a+" is not a valid alignment value.");}};Util.Inheritance.inherit(DivUI.Label,DivUI.Component);DivUI.Scrolling={NEVER:0,AUTO:1,ALWAYS:2};
DivUI.ContextMenu=function(){DivUI.Container.call(this);var a=this.getDiv();a.style.borderStyle="outset";a.style.borderColor="rgb(200,200,200)";a.style.position="absolute";a.style.left="900px";a.style.top="50px";a.style.backgroundColor="rgba(200,200,200,0.7)";this._menuItems=[];this._context=void 0;var b=this;document.getElementsByTagName("html")[0].onclick=function(){b.hide()}};
DivUI.ContextMenu.prototype={constructor:DivUI.ContextMenu,isaContextMenu:!0,show:function(a,b,c){this._context=a;for(var d=0;d<this._menuItems.length;d++)this._menuItems[d].setEnabled(a);a=this.getDiv();a.style.left=b+"px";a.style.top=c+"px";a.style.visibility="visible"},hide:function(){this.getDiv().style.visibility="hidden"},add:function(a){DivUI.Container.prototype.add.call(this,a);if(a.isaContextMenuItem){var b=this;this._menuItems.push(a);a.getDiv().onclick=function(c){a.isEnabled()&&(a.clickHandler(b._context),
b.hide());c.stopPropagation()}}},remove:function(a){DivUI.Container.prototype.remove.call(this,a);a.isaContextMenuItem&&(a=this._menuItems.indexOf(a),this._menuItems.splice(a,1))},getItem:function(a){if(0>a||a>=this._menuItems.length)throw new RangeError("Component index out of bounds. ");},getItemCount:function(){return this._menuItems.length}};Util.Inheritance.inherit(DivUI.ContextMenu,DivUI.Container);
DivUI.ContextMenuItem=function(a){DivUI.Component.call(this);this._enabled=!0;var b=this,c=this.getDiv();c.innerHTML=a;c.style.cursor="pointer";c.style.color="rgb(0,0,0)";c.onmouseover=function(){c.style.backgroundColor="rgba(255,255,255, 1.0)"};c.onmouseout=function(){c.style.backgroundColor="rgba(255,255,255, 0.0)"};c.onmousedown=function(){b._enabled&&(c.style.backgroundColor="rgba(100,100,200,1.0)")};c.onmouseup=function(){c.style.backgroundColor="rgba(255,255,255, 1.0)"}};
DivUI.ContextMenuItem.prototype={constructor:DivUI.ContextMenuItem,isaContextMenuItem:!0,isEnabled:function(){return this._enabled},enable:function(){this._enabled=!0;this.getDiv().style.color="rgb(0,0,0)"},disable:function(){this._enabled=!1;this.getDiv().style.color="rgb(100,100,100)"},hide:function(){this.getDiv().style.display="none"},show:function(){this.getDiv().style.display="block"},setEnabled:function(a){this.enable()},clickHandler:function(a){}};
Util.Inheritance.inherit(DivUI.ContextMenuItem,DivUI.Component);DivUI.OptionsTable=function(a,b){this._container=a;this._tableDiv=document.createElement("div");this._tableDiv.style.cssText="border:solid; border-width:1px; border-color:#BBAA88;";this._container.appendChild(this._tableDiv);this._options={};for(var c in b){var d=b[c];console.log(d);this.addOption(d)}console.log(this._options)};
DivUI.OptionsTable.prototype={constructor:DivUI.OptionsTable,addOption:function(a){var b=document.createElement("div");b.style.cssText="display:table-row;";this._tableDiv.appendChild(b);var c=void 0,c=document.createElement("div");c.style.cssText="display:table-cell; padding-right:10px;";b.appendChild(c);var d=document.createElement("input");d.type="checkbox";d.checked=!1;d.value=a.description;c.appendChild(d);c=document.createElement("div");c.style.cssText="display:table-cell; padding-right:10px;";
c.innerHTML="<b>"+a.name+"</b>";b.appendChild(c);c=document.createElement("div");c.style.cssText="display:table-cell; padding-right:20px;";c.innerHTML=a.description;b.appendChild(c);this._options[a.name]={checkbox:d,params:{}};var e=this._createParamsDiv(a);this._tableDiv.appendChild(e);d.onchange=function(a){e.style.display=d.checked?"table":"none"}},_createParamsDiv:function(a){var b=document.createElement("div");b.style.display="none";b.style.paddingLeft="40px";if(a.params){var c=a.params.split(","),
d=a.param_description.split(","),e;for(e in c){var f=c[e],k=d[e],g=document.createElement("div");g.style.display="table-row";b.appendChild(g);var h=void 0,h=document.createElement("div");h.style.display="table-cell";g.appendChild(h);h.innerHTML=f;h=document.createElement("div");h.style.display="table-cell";h.style.paddingLeft="20px";g.appendChild(h);g=document.createElement("input");g.placeholder=k;g.style.width=7*(k.length+1)+"px";h.appendChild(g);this._options[a.name].params[f]=g}}return b},getOptionIDs:function(){var a=
[],b;for(b in this._options)a.push(b);return a},isChecked:function(a){if(this._options[a])return this._options[a].checkbox.checked;console.log("Option "+a+" doesn't exist.");return!1},setChecked:function(a,b){this._options[a]?this._options[a].checkbox.checked=b:console.log("Option "+a+" doesn't exist.")},getParameterIDs:function(a){if(a=this._options[a]){var b=[],c;for(c in a.params)b.push(c);return b}console.log("Option "+id+" doesn't exist.");return[]},getParamValue:function(a,b){var c=this._options[a];
if(c){if(c.params[b])return c.params[b].value;console.log("Parameter "+b+" doesn't exist for option "+a+".");return""}console.log("Option "+a+" doesn't exist.");return""},setParamValue:function(a,b,c){var d=this._options[a];d?d.params[b]?d.params[b].value=c:console.log("Parameter "+b+" doesn't exist for option "+a+"."):console.log("Option "+a+" doesn't exist.")},toJSON:function(){var a={},b=this.getOptionIDs(),c;for(c in b){var d=b[c];console.log(d);a[d]={};a[d].checked=this.isChecked(d);a[d].params=
{};var e=this.getParameterIDs(d),f;for(f in e){var k=e[f];a[d].params[k]=this.getParamValue(d,k)}}return a}};
DivUI.OptionsTable.makeMockupOptions=function(){return[{name:"somebody set us up the bomb",description:"We get signal. Main screen turn on.",params:"timer,width,height",param_description:"Bomb's countdown,width of main screen,height of main screen"},{name:"take off every zig",description:"for great justice",params:"zigs,justice",param_description:"# of zigs moved, amount of justice used"},{name:"all your base are belong to us",description:"you have no chance to survive make your time",params:"time,bases",
param_description:"amount of time,# bases belonging to us"}]};DivUI.TabbedPane=function(a){DivUI.Container.call(this,a);this._tabs=new DivUI.Container;this._tabs.getDiv().style.display="table-row";DivUI.Container.prototype.add.call(this,this._tabs);this._switchPane=new DivUI.SwitchPane;a=this._switchPane.getDiv();a.style.border="1px solid";a.style.paddingTop="1px";a.style.position="relative";DivUI.Container.prototype.add.call(this,this._switchPane)};
DivUI.TabbedPane.prototype={constructor:DivUI.TabbedPane,isaTabbedPane:!0,setSelectedIndex:function(a){this._switchPane.showIndex(a);var b=this._tabs.getComponents(),c;for(c in b)b[c].setSelected(a==c)},setSelectedComponent:function(a){a=this._switchPane.indexOf(a);this.setSelectedIndex(a)},add:function(a,b){var c=this,d=new DivUI.TabbedPane.Tab(a);d.getDiv().style.zIndex=this._switchPane.getDiv().style.zIndex+1;this._tabs.add(d);this._switchPane.add(b);1==this.getComponentCount()&&this.setSelectedComponent(b);
d.getDiv().onclick=function(){c.setSelectedComponent(b)}},remove:function(a){a=a.isaDivUI.Component?this.indexOf(a):a;this._tabs.remove(a);this._switchPane.remove(a)},removeAll:function(){this._tabs.removeAll();this._switchPane.removeAll()},indexOf:function(a){return this._switchPane.indexOf(a)},getComponent:function(a){return this._switchPane.getComponent(a)},getComponents:function(){return this._switchPane.getComponents()},getComponentCount:function(){return this._switchPane.getComponentCount()}};
Util.Inheritance.inherit(DivUI.TabbedPane,DivUI.Container);
DivUI.TabbedPane.Tab=function(a){DivUI.Component.call(this);this.getDiv();a.style?this.getDiv().appendChild(a):this.getDiv().innerHTML=a;this._stylePropsBase=new DivUI.Style({"float":"left",paddingRight:"10px",paddingLeft:"5px",borderTop:"1px solid",borderLeft:"1px solid",borderRight:"1px solid",borderTopLeftRadius:"5px",borderTopRightRadius:"5px",cursor:"pointer"});this._stylePropsSelected=new DivUI.Style({backgroundColor:"white",position:"relative",top:"1px"});this._stylePropsUnselected=new DivUI.Style({backgroundColor:"lightgrey",
paddingBottom:"1px",position:"static",top:"0px"});this._styleClassUnselected=this._styleClassSelected=this._styleClassBase=void 0;this.setSelected(!1)};
DivUI.TabbedPane.Tab.prototype={constructor:DivUI.TabbedPane.Tab,isaTab:!0,isSelected:function(){return this._selected},setSelected:function(a){this._selected=a;var b=this.getDiv();this._stylePropsBase?(this._stylePropsBase.applyTo(b),a?this._stylePropsSelected.applyTo(b):this._stylePropsUnselected.applyTo(b)):b.className=a?this._styleClassBase+" "+this._styleClassSelected:this._styleClassBase+" "+this._styleClassUnselected},setBaseStyle:function(a){this._stylePropsBase=a},setSelectedStyle:function(a){this._stylePropsSelected=
a},setUnselectedStyle:function(a){this._stylePropsUnselected=a},setStyleClasses:function(a,b,c){this._styleClassBase=a;this._styleClassSelected=b;this._styleClassUnselected=c;this._stylePropsUnselected=this._stylePropsSelected=this._stylePropsBase=void 0}};Util.Inheritance.inherit(DivUI.TabbedPane.Tab,DivUI.Component);
DivUI.Table=function(){var a=document.createElement("table");DivUI.Component.call(this,a);this._header=Util.DOM.appendNew(Util.DOM.appendNew(a,"thead"),"tr");this._body=Util.DOM.appendNew(a,"tbody");this._columns={};this._columnIDs=[];this._rows=[]};
DivUI.Table.prototype={constructor:DivUI.Table,isaTable:!0,getTable:function(){return this.getDiv()},getBody:function(){return this._body},getHeader:function(){return this._header},addColumn:function(a,b){var c=new DivUI.Table.Column(a,b);this._header.appendChild(c.getTH());this._columns[a]=c;this._columnIDs.push(a);var d=this;c.getTH().onclick=function(a){d.sortByColumn(c.getID());a.stopPropagation()};return c},getColumn:function(a){return this._columns[a]},getColumnIDs:function(){return this._columnIDs},
getColumnCount:function(){return this._columnIDs.length},addRow:function(a){a=new DivUI.Table.Row(this._columnIDs,a);this._body.appendChild(a.getDiv());this._rows.push(a);return a},addRowFirst:function(a){a=new DivUI.Table.Row(this._columnIDs,a);a.setStyle(this._cellStyle);this._body.insertBefore(a.getDiv());this._rows.unshift(a);return a},getRow:function(a){return this._rows[a]},getRows:function(){for(var a=[],b=0;b<this._rows.length;b++)a.push(this._rows[b]);return a},indexOfRow:function(a){return this._rows.indexOf(a)},
getRowCount:function(){return this._rows.length},removeRow:function(a){this._body.removeChild(this._rows[a].getTR());this._rows.splice(a,1)},removeAllRows:function(){for(var a=this.getRows();0<this.getRowCount();)this.removeRow(0);return a},sortByColumn:function(a){var b=this.getColumn(a).sorter();if(b){a=this.getRows();a.sort(b);this._body.innerHTML="";for(b=0;b<a.length;b++)this._body.appendChild(a[b].getTR());this._rows=a}}};Util.Inheritance.inherit(DivUI.Table,DivUI.Component);
DivUI.Table.Column=function(a,b){var c=document.createElement("th");DivUI.Component.call(this,c);this._id=a;this.header(b);this.sorter(function(b,c){var f=b.getValue(a),k=c.getValue(a);return f>k?1:f<k?-1:0})};DivUI.Table.Column.prototype={constructor:DivUI.Table.Column,isaColumn:!0,getID:function(){return this._id},getTH:function(){return this.getDiv()},header:function(a){void 0!==a&&(this.getTH().innerHTML=a);return this.getTH().innerHTML},sorter:function(a){void 0!==a&&(this._sorter=a);return this._sorter}};
Util.Inheritance.inherit(DivUI.Table.Column,DivUI.Component);DivUI.Table.Row=function(a,b){var c=document.createElement("tr");DivUI.Component.call(this,c);this._columnIDs=a;this._cells={};for(var d in a){var e=a[d],f=document.createElement("td");this._cells[e]=f;c.appendChild(f)}this.update(b)};
DivUI.Table.Row.prototype={constructor:DivUI.Table.Row,isaRow:!0,getTR:function(){return this.getDiv()},getTD:function(a){return this._cells[a]},model:function(a){void 0!==a&&(this._model=a);return this._model},update:function(a){for(var b in a)this.updateCell(b,a[b])},updateCell:function(a,b){var c=this.getTD(a);if(void 0!==b&&b.style){for(;c.firstChild;)c.removeChild(c.firstChild);c.appendChild(b)}else c.innerHTML=b},getValue:function(a){return this.getTD(a).innerHTML}};
Util.Inheritance.inherit(DivUI.Table.Row,DivUI.Component);DivUI.Style=function(a){this._props={};for(var b in a)this._props[b]=a[b]};DivUI.Style.prototype={constructor:DivUI.Style,isaStyle:!0,applyTo:function(a){for(var b in this._props)a.style[b]=this._props[b]},getProperty:function(a){return this._props[a]},getProperties:function(){var a={},b;for(b in this._props)a[b]=this._props[b];return a}};